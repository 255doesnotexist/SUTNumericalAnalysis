f = @(x)abs(x);
x = [  -5.0  -2.5  0.0  2.5 5.0] %% nodes


w_0=@(x) (x+2.5).*(x-0).*(x-2.5).*(x-5)  /  ((-5+2.5)*(-5-0)*(-5-2.5)*(-5-5));
w_1=@(x) (x+5).*(x-0).*(x-2.5).*(x-5)    /  ((-2.5+5)*(-2.5-0)*(-2.5-2.5)*(-2.5-5));
w_2=@(x) (x+5).*(x+2.5).*(x-2.5).*(x-5)  /  ((0+5)*(0+2.5)*(0-2.5)*(0-5));
w_3=@(x) (x+5).*(x+2.5).*(x-0).*(x-5)    /  ((2.5+5)*(2.5+2.5)*(2.5-0)*(2.5-5));
w_4=@(x) (x+5).*(x+2.5).*(x-0).*(x-2.5)  /  ((5+5)*(5+2.5)*(5-0)*(5-2.5));


W=@(x)  w_0(x).*f(-5)+...
    w_1(x).*f(-2.5)+ ...
    w_2(x).*f(0)+...
    w_3(x).*f(2.5)+...
    w_4(x).*f(5);
xx=-5:0.1:5;

plot(xx,f(xx),"LineWidth",4);
hold on
plot(xx,W(xx),"LineWidth",4);

plot(xx,w_0(xx),"LineWidth",4);
plot(xx,w_1(xx),"LineWidth",4);
plot(xx,w_2(xx),"LineWidth",4);
plot(xx,w_3(xx),"LineWidth",4);
plot(xx,w_4(xx),"LineWidth",4);


for k=1:length(xx)
    
L=0;
n=length(x);
M=zeros(n,n );
for i=1:n
    for j=1:n
        if j~=i
            M(i,j)=x(i)-x(j);
        else
            M(i,j)=x-x(j);
        end
    end
end
s1 = 1
s2 = 1

for i=1:n
    for j=i:N
            if i~=j:
                s1 = s1 * M(i,j)
            else:
                s1 = s1/ M(i,j)
    end

end 


end

































% w_0=@(x)(x-0).*(x-5)/((-5-0).*(-5-5))
% w_1=@(x)(x-(-5)).*(x-5)/((0-(-5)).*(0-5))
% w_2=@(x)(x-(-5)).*(x-0)/((5-(-5)).*(5-0))
%
% W=@(x) f(-5).*w_0(x) + f(0).*w_1(x) + f(5).*w_2(x);
%
% plot(-5:0.1:5, f(-5:0.1:5));
% hold on
% plot(-5:0.1:5, W(-5:0.1:5));
%
%

% n0(-5, 5)
% n1(0, 0)
% n2(5 , 5)



% % % xp = [  -4.5  -3.5  -2.5  -1.5  -0.5   1.0   2.0   3.0   5.0]